# go-apperror

The package `apperror` provides rich errors for Go containing origin (file and line),
error code, message and the original error generated by Go.

## Installation and Docs

Install using `go get github.com/tyftler/go-apperror`.

Full documentation is available at [godoc.org/github.com/tyftler/go-apperror](https://godoc.org/github.com/tyftler/go-apperror).

## Usage

```go
var err *apperror.AppErr


// using nested error

foo := []byte("[1,2,3,4,5,6,7,]")

var numbers interface{}
jsonErr := json.Unmarshal(foo, &numbers)

if jsonErr != nil {
	err = apperror.New(jsonErr, 123, "Invalid JSON for numbers")
}

fmt.Println(err)
// Path/to/file/main.go:20 [123] Invalid JSON for numbers
fmt.Println(err.Err())
// invalid character ']' looking for beginning of value


// using HTTP error code and formatted error message

bar := "Hello, World!"

if len(bar) > 10 {
	err = apperror.New(nil, http.StatusBadRequest, "String too long: %d", len(bar))
}

fmt.Println(err)
// Path/to/file/main.go:29 [400] String too long: 13
```
